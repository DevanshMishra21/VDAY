<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>A Special Surprise</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #fff5f7;
            --panel: #ffffff;
            --primary: #ff8da1;
            --text: #a64d5d;
            --heart: #ff4d6d;
        }

        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background-color: var(--bg);
            margin: 0;
            padding: 0;
            overflow: hidden;
            font-family: 'Press Start 2P', cursive;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            width: 100vw;
            touch-action: none; /* Prevents accidental scrolling/zooming */
        }

        #stage {
            position: relative;
            width: 100%;
            height: 100%;
            background-image: radial-gradient(#ffccd5 1px, transparent 1px);
            background-size: 40px 40px;
        }

        /* Character Styling optimized for mobile */
        .character {
            position: absolute;
            height: 140px; 
            bottom: 25%; /* Lowered slightly to make room for the box above */
            image-rendering: pixelated;
            transition: right 3s ease-out;
        }

        #her {
            left: 50%;
            transform: translateX(-110%); /* Offset slightly left of center */
            z-index: 5;
        }

        #me {
            right: -200px; /* Start off-screen */
            z-index: 10;
        }

        /* Message Box - Centered but slightly higher for mobile visibility */
        #messageBox {
            position: absolute;
            top: 40%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: var(--panel);
            border: 6px solid var(--text);
            padding: 25px 15px;
            box-shadow: 8px 8px 0px #ffe4e9;
            width: 85%;
            max-width: 350px;
            z-index: 100;
            text-align: center;
            transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        #messageBox.show { transform: translate(-50%, -50%) scale(1); }

        #timer {
            background: #fffafa;
            border: 3px dashed #ffe4e9;
            color: var(--heart);
            font-size: 0.65rem;
            padding: 12px 5px;
            margin: 15px 0;
            line-height: 1.6;
        }

        /* Thumb-friendly buttons */
        .btn-container { 
            display: flex; 
            justify-content: center; 
            gap: 15px; 
            margin-top: 20px; 
        }

        .btn {
            flex: 1;
            padding: 15px 10px;
            font-family: 'Press Start 2P', cursive;
            font-size: 12px;
            border: 4px solid var(--text);
            cursor: pointer;
            outline: none;
        }

        #yesBtn { 
            background: var(--primary); 
            color: white; 
            box-shadow: 4px 4px 0px var(--text); 
        }

        #noBtn { 
            background: #eee; 
            color: #888; 
            border-color: #ccc;
            position: relative;
        }

        .heart-icon { font-size: 24px; color: var(--heart); margin-bottom: 10px; }
    </style>
</head>
<body>

    <div id="stage">
        <img src="IMG_2844.png" id="her" class="character" alt="Her">
        <img src="IMG_2840.png" id="me" class="character" alt="Me">

        <div id="messageBox">
            <div class="heart-icon">â™¥</div>
            <h1 style="font-size: 11px; color: var(--text); line-height: 1.4;">I HAVE KNOWN YOU SINCE:</h1>
            <div id="timer">LOADING...</div>
            <p style="font-size: 9px; color: var(--text);">AND I ENJOY EVERY DAY WITH YOU.</p>
            <p style="color: var(--heart); font-size: 11px; margin-top: 15px;">WILL YOU BE MY VALENTINE?</p>
            
            <div class="btn-container">
                <button class="btn" id="yesBtn">YES!</button>
                <button class="btn" id="noBtn">NO</button>
            </div>
        </div>
    </div>

    <script>
        const me = document.getElementById('me');
        const her = document.getElementById('her');
        const messageBox = document.getElementById('messageBox');
        const yesBtn = document.getElementById('yesBtn');
        const noBtn = document.getElementById('noBtn');
        const timerDisplay = document.getElementById("timer");

        // 1. Walking Animation
        window.onload = () => {
            setTimeout(() => {
                // Calculation to stop "Me" just to the right of "Her"
                me.style.right = "calc(50% - 130px)"; 
                
                setTimeout(() => {
                    messageBox.classList.add('show');
                }, 3200);
            }, 800);
            updateTimer();
        };

        // 2. Timer Logic (Dec 21, 2021)
        const startDate = new Date("December 21, 2021 00:00:00").getTime();
        
        function updateTimer() {
            const now = new Date().getTime();
            const diff = now - startDate;
            
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hrs = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const mins = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const secs = Math.floor((diff % (1000 * 60)) / 1000);
            
            timerDisplay.innerHTML = `${days} DAYS<br>${hrs}H ${mins}M ${secs}S`;
        }
        setInterval(updateTimer, 1000);

        // 3. Interaction Logic
        yesBtn.onclick = () => {
            if (navigator.vibrate) navigator.vibrate(50); // Haptic feedback
            alert("ðŸ’– You made me the luckiest person! Happy Valentine's Day!");
            // Optional: add a redirect here
        };

        // Make the "No" button move away on mobile tap or hover
        const moveNoButton = () => {
            const x = Math.random() * (window.innerWidth - noBtn.offsetWidth);
            const y = Math.random() * (window.innerHeight - noBtn.offsetHeight);
            noBtn.style.position = 'fixed';
            noBtn.style.left = x + 'px';
            noBtn.style.top = y + 'px';
        };

        noBtn.addEventListener('touchstart', (e) => {
            e.preventDefault(); // Prevents accidental clicking
            moveNoButton();
        });
        noBtn.addEventListener('mouseover', moveNoButton);

    </script>
</body>
</html>
